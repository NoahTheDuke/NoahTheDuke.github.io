<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Thoughts and bits: What is this data structure?</title>
        
<meta name="keywords" content="data structures,cohost mirror,programming,functional programming">

<meta name="description" content="I re-discovered a data structure I used many years ago from a game engine. It’s like a queue but is well built for recursive or nested work. The name I know it as is the Pipeline.The data structure is { processed: queue, added: queue }. It has the methods enqueue(…args: any[]): pipeline, peek(): any, and pop(): pipeline.When you call enqueue, you pass in any number of items, which are added to the back of the added internal queue. Like a classic queue, if enqueue is called multiple times in a row, each set of items is added at the end.">

<meta property="og:description" content="I re-discovered a data structure I used many years ago from a game engine. It’s like a queue but is well built for recursive or nested work. The name I know it as is the Pipeline.The data structure is { processed: queue, added: queue }. It has the methods enqueue(…args: any[]): pipeline, peek(): any, and pop(): pipeline.When you call enqueue, you pass in any number of items, which are added to the back of the added internal queue. Like a classic queue, if enqueue is called multiple times in a row, each set of items is added at the end.">

<meta property="og:url" content="https://noahtheduke.github.io/posts/cohost-mirror/2024-03-05-what-is-this-data-st/" />
<meta property="og:title" content="What is this data structure?" />
<meta property="og:type" content="article" />

        <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">

        <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700|Oxygen:300,400,700|Inconsolata" rel="stylesheet">
        <link href="/css/normalize.css" rel="stylesheet" type="text/css" />
        <link href="/css/blog.css" rel="stylesheet" type="text/css" />
        <link href="/css/colors/colorful.css" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <aside id="sidebar">
            <div id="logo">
                <a title="Thoughts and bits" href="/">
                    <img class="icon" src="/img/profile.webp">
                    <div class="text desktop-and-tablet-only">Thoughts and bits</div>
                    <div class="text mobile-only">Thoughts and bits</div>
                </a>
            </div>

            <nav id="sidebar-links">
                <nav id="menucont">
                    <input type="checkbox" id="menu-checkbox" class="menu-checkbox">
                    <label for="menu-checkbox" class="menutitle">
                        <svg class="icon icon-menu" aria-hidden="true"><use xlink:href="/img/icons.svg#icon-menu"></use></svg><span class="menu-text">Menu</span>
                    </label>
                    <ul class="menu">
                        <li >
                            <a title="Home" href="/">
                                <div class="menu-item-text">Home</div>
                            </a>
                        </li>
                        
                        <li >
                            <a title="Posts" href="/p/1/">
                                <div class=" menu-item-text">Posts</div>
                            </a>
                        </li>
                        <li >
                            <a href="/about/">
                                <div class="menu-item-text">About</div>
                            </a>
                        </li>
                        
                        <li >
                            <a title="Archives" href="/archives/">
                                <div class="menu-item-text">Archives</div>
                            </a>
                        </li>
                        
                        <li >
                            <a title="Tags" href="/tags/">
                                <div class="menu-item-text">Tags</div>
                            </a>
                        </li>
                        
                    </ul>
                </nav>

                <nav id="socialmedia">
                    <ul>
                        <li><a title="LinkedIn" href="https://www.linkedin.com/in/noah-bogart" rel="external"><svg class="icon icon-linkedin"><use xlink:href="/img/icons.svg#icon-linkedin"></use></svg></a></li>
                        <li><a title="GitHub" href="https://github.com/NoahTheDuke" rel="external"><svg class="icon icon-github-circled"><use xlink:href="/img/icons.svg#icon-github-circled"></use></svg></a></li>
                        <li><a title="RSS Feed" href="/feed.xml"><svg class="icon icon-rss-squared"><use xlink:href="/img/icons.svg#icon-rss-squared"></use></svg></a></li>
                    </ul>
                </nav>
            </nav>
        </aside>

        <article id="main">
            
<div id="post">
    <div class="post-header">
    <div id="post-meta">
        <h1>What is this data structure?</h1>
        <div class="byline">
            Mar 5, 2024
            <span title="March 5, 2024">@445.14</span>
            / 
                
                <a href="/tags/cohost%20mirror/">#cohost mirror</a>
                
                <a href="/tags/data%20structures/">#data structures</a>
                
                <a href="/tags/functional%20programming/">#functional programming</a>
                
                <a href="/tags/programming/">#programming</a>
                
            
        </div>
    </div>
</div>
<div>
    
    <p>I re-discovered a data structure I used many years ago from a game engine. It’s like a queue but is well built for recursive or nested work. The name I know it as is the Pipeline.</p><p>The data structure is <code>{ processed: queue, added: queue }</code>. It has the methods <code>enqueue(…args: any[]): pipeline</code>, <code>peek(): any</code>, and <code>pop(): pipeline</code>.</p><p>When you call <code>enqueue</code>, you pass in any number of items, which are added to the back of the <code>added</code> internal queue. Like a classic queue, if <code>enqueue</code> is called multiple times in a row, each set of items is added at the end.</p><p>When you call <code>pop</code>, the contents of <code>added</code> are prepended to the contents of <code>processed</code>, and <code>added</code> is cleared, then the pipeline is returned.</p><p>When you call <code>peek</code>, you get the first item in <code>added</code> or <code>processed</code>.</p><p>Okay so that’s the implementation. What does it look like? Here’s how it works in Clojure:</p><code class="clojure highlight" data-lang="clojure"><pre><span></span><span class="p">(</span><span class="nb">-&gt; </span><span class="p">(</span><span class="nf">make-pipeline</span><span class="p">)</span> <span class="c1">;; {:processed &lt;-()-&lt; :added &lt;-()-&lt;}</span>
    <span class="p">(</span><span class="nf">queue</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span><span class="p">)</span>  <span class="c1">;; {:processed &lt;-()-&lt; :added &lt;-(1 2 3)-&lt;}</span>
    <span class="p">(</span><span class="nf">queue</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span><span class="p">)</span>  <span class="c1">;; {:processed &lt;-()-&lt; :added &lt;-(1 2 3 4 5 6)-&lt;}</span>
    <span class="p">(</span><span class="nf">pop</span><span class="p">)</span>  <span class="c1">;; {:processed &lt;-(2 3 4 5 6)-&lt; :added &lt;-()-&lt;}</span>
    <span class="p">(</span><span class="nf">queue</span> <span class="mi">7</span> <span class="mi">8</span> <span class="mi">9</span><span class="p">)</span>  <span class="c1">;; {:processed &lt;-(2 3 4 5 6)-&lt; :added &lt;-(7 8 9)-&lt;}</span>
    <span class="p">(</span><span class="nf">pop</span><span class="p">))</span> <span class="c1">;; {:processed &lt;-(8 9 2 3 4 5 6)-&lt; :added &lt;-()-&lt;}</span>
</pre></code><p>Does that make sense? I hope so.</p><p>I know it as a pipeline, name taken from the game engine I learned it from years ago, but I’ve never seen it since. It’s very useful when processing sets of things with potential items that will have their own nested sets of things that must be accomplished first, each of which may also etc etc.</p><p>What is it?????</p>
</div>
<br/>


    
    <div id="prev-next">
    
    <a class="prev" href="/posts/cohost-mirror/2024-03-05-eggs-bene-gesserit/"><svg class="icon icon-circle-left"><use xlink:href="/img/icons.svg#icon-circle-left"></use></svg><div class="nav-text"></div></a>
    
    
    <a class="next" href="/posts/cohost-mirror/2024-03-05-the-volcano-is-death/"><div class="nav-text""></div><svg class="icon icon-circle-right"><use xlink:href="/img/icons.svg#icon-circle-right"></use></svg></a>
    
</div>

    

    


</div>

            <hr/>
            <div id="footercont">
                Copyright &copy; 2024 Noah Bogart
                <br>Powered by <a href="http://cryogenweb.org">Cryogen</a>
                <br>Theme by <a href="http://github.com/KingMob">KingMob</a>
            </div>
        </article>

        
        
    </body>
</html>
